{"ast":null,"code":"import React,{useState}from'react';import{useLocation}from'react-router-dom';import Sidebar from'./Sidebar';import StudentExplorePage from'./studentpages/StudentExplorePage';import StudentMyCoursesPage from'./studentpages/StudentMyCoursesPage';import TutorMyCoursesPage from'./tutorpages/TutorMyCoursesPage';import StudentCoursePage from'./studentpages/StudentCoursePage';import StudentNotificationsPage from'./studentpages/StudentNotificationsPage';import StudentSettingsPage from'./studentpages/StudentSettingsPage';import TutorProfilePage from'./tutorpages/TutorProfilePageEditable';import'../styles/UserDashboard.css';import{getNotifications}from'../controllers/AccountController';import{getActiveSessions,getCanceledSessions,getPendingSessions}from'../controllers/SessionController';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserDashboard(){var _location$state,_location$state2;const[selectedContent,setSelectedContent]=useState('explore');const[selectedCourse,setSelectedCourse]=useState(null);const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[notifications,setNotifications]=useState([]);const[declinedCourses,setDeclinedCourses]=useState([]);const[pendingCourses,setPendingCourses]=useState([]);const[inProgressCourses,setInProgressCourses]=useState([]);const testUser={\"id\":0,\"password\":\"test\",\"email\":\"student@example.com\",\"student\":{\"name\":\"John Doe\",\"age\":20,\"major\":\"Computer Science\",\"birthday\":\"\",\"language\":\"english\"},\"isAdmin\":false,\"notifications\":[{\"id\":1,\"message\":\"Urgent: Tutor has dropped your connection request.\",\"category\":\"urgent\"},{\"id\":2,\"message\":\"You have a new connection request from Tutor A.\",\"category\":\"unread\"},{\"id\":3,\"message\":\"Your session with Tutor B has been scheduled.\",\"category\":\"read\"},{\"id\":4,\"message\":\"Urgent: Tutor C accepted your connection request.\",\"category\":\"urgent\"},{\"id\":5,\"message\":\"Reminder: Your next session with Tutor D is in 2 hours.\",\"category\":\"unread\"},{\"id\":6,\"message\":\"You have successfully completed your session with Tutor E.\",\"category\":\"read\"}],\"proofdoc\":null,\"isApproved\":true};const location=useLocation();const user=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.user)||testUser;const isTutor=(_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.isTutor;console.log('User: ',user);React.useEffect(()=>{async function fetchData(){const active=await getActiveSessions(user.student.name);const canceled=await getCanceledSessions(user.student.name);const pending=await getPendingSessions(user.student.name);const n=await getNotifications(user.id,isTutor);setDeclinedCourses(canceled);setPendingCourses(pending);setInProgressCourses(active);setNotifications(n);}fetchData();},[]);const onCourseSelect=course=>{setSelectedCourse(course);setSelectedContent('course');};const toggleDropdown=()=>setIsDropdownOpen(!isDropdownOpen);const renderContent=()=>{console.log(\"this is the user tt\",user.id);// If we want this side bar to appear on the left side of the screen for something like the tutor profile page or the tutor search page based on the searched item then we can probably just update the value given to selectedContent to be that of the tutopr pafge (add another case to the switch statement) or whatever page. W#e'll just need to make it so we update the state or whatever somehow\nswitch(selectedContent){case'explore':return/*#__PURE__*/_jsx(StudentExplorePage,{user:user});case'notifications':return/*#__PURE__*/_jsx(StudentNotificationsPage,{notifications:notifications});case'myCourses':return/*#__PURE__*/_jsx(StudentMyCoursesPage,{setSelectedContent:setSelectedContent,setSelectedCourse:setSelectedCourse,inProgressCourses:inProgressCourses,pendingCourses:pendingCourses,declinedCourses:declinedCourses});case'course':return/*#__PURE__*/_jsx(StudentCoursePage,{course:selectedCourse,setSelectedContent:setSelectedContent});case'settings':return/*#__PURE__*/_jsx(StudentSettingsPage,{user:user,isTutor:isTutor});case'profile':return/*#__PURE__*/_jsx(TutorProfilePage,{});default:return/*#__PURE__*/_jsx(\"div\",{children:\"Welcome\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"tutorProfilePage\",{}),/*#__PURE__*/_jsx(Sidebar,{onSelect:setSelectedContent,toggleDropdown:toggleDropdown,isDropdownOpen:isDropdownOpen,courses:inProgressCourses,onCourseSelect:onCourseSelect,isTutor:isTutor}),/*#__PURE__*/_jsx(\"main\",{className:\"dashboardContent\",children:renderContent()})]});}export default UserDashboard;","map":{"version":3,"names":["React","useState","useLocation","Sidebar","StudentExplorePage","StudentMyCoursesPage","TutorMyCoursesPage","StudentCoursePage","StudentNotificationsPage","StudentSettingsPage","TutorProfilePage","getNotifications","getActiveSessions","getCanceledSessions","getPendingSessions","jsx","_jsx","jsxs","_jsxs","UserDashboard","_location$state","_location$state2","selectedContent","setSelectedContent","selectedCourse","setSelectedCourse","isDropdownOpen","setIsDropdownOpen","notifications","setNotifications","declinedCourses","setDeclinedCourses","pendingCourses","setPendingCourses","inProgressCourses","setInProgressCourses","testUser","location","user","state","isTutor","console","log","useEffect","fetchData","active","student","name","canceled","pending","n","id","onCourseSelect","course","toggleDropdown","renderContent","children","className","onSelect","courses"],"sources":["/workspaces/Tutor-Website/frontend/src/pages/UserDashboard.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport StudentExplorePage from './studentpages/StudentExplorePage';\nimport StudentMyCoursesPage from './studentpages/StudentMyCoursesPage';\nimport TutorMyCoursesPage from './tutorpages/TutorMyCoursesPage';\nimport StudentCoursePage from './studentpages/StudentCoursePage';\nimport StudentNotificationsPage from './studentpages/StudentNotificationsPage';\nimport StudentSettingsPage from './studentpages/StudentSettingsPage';\nimport TutorProfilePage from './tutorpages/TutorProfilePageEditable';\nimport '../styles/UserDashboard.css';\nimport { getNotifications } from '../controllers/AccountController';\nimport { getActiveSessions, getCanceledSessions, getPendingSessions } from '../controllers/SessionController';\n\nfunction UserDashboard() {\n    const [selectedContent, setSelectedContent] = useState('explore');\n    const [selectedCourse, setSelectedCourse] = useState(null);\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n    const [notifications, setNotifications] = useState([]);\n    const [declinedCourses, setDeclinedCourses] = useState([]);\n    const [pendingCourses, setPendingCourses] = useState([]);\n    const [inProgressCourses, setInProgressCourses] = useState([]);\n\n    const testUser = {\n        \"id\": 0,\n        \"password\": \"test\",\n        \"email\": \"student@example.com\",\n        \"student\": {\n            \"name\": \"John Doe\",\n            \"age\": 20,\n            \"major\": \"Computer Science\",\n            \"birthday\": \"\",\n            \"language\": \"english\"\n        },\n        \"isAdmin\": false,\n        \"notifications\": [\n            {\n                \"id\": 1,\n                \"message\": \"Urgent: Tutor has dropped your connection request.\",\n                \"category\": \"urgent\"\n            },\n            {\n                \"id\": 2,\n                \"message\": \"You have a new connection request from Tutor A.\",\n                \"category\": \"unread\"\n            },\n            {\n                \"id\": 3,\n                \"message\": \"Your session with Tutor B has been scheduled.\",\n                \"category\": \"read\"\n            },\n            {\n                \"id\": 4,\n                \"message\": \"Urgent: Tutor C accepted your connection request.\",\n                \"category\": \"urgent\"\n            },\n            {\n                \"id\": 5,\n                \"message\": \"Reminder: Your next session with Tutor D is in 2 hours.\",\n                \"category\": \"unread\"\n            },\n            {\n                \"id\": 6,\n                \"message\": \"You have successfully completed your session with Tutor E.\",\n                \"category\": \"read\"\n            }\n        ],\n        \"proofdoc\": null,\n        \"isApproved\": true\n    };\n\n    const location = useLocation();\n    const user = location.state?.user || testUser;\n    const isTutor = location.state?.isTutor;\n    console.log('User: ', user);\n\n    React.useEffect(() => {\n        async function fetchData() {\n            const active = await getActiveSessions(user.student.name);\n            const canceled = await getCanceledSessions(user.student.name);\n            const pending = await getPendingSessions(user.student.name);\n            const n = await getNotifications(user.id, isTutor);\n            setDeclinedCourses(canceled);\n            setPendingCourses(pending);\n            setInProgressCourses(active);\n            setNotifications(n);\n        }\n        fetchData();\n    }, []);\n\n\n    const onCourseSelect = (course) => {\n        setSelectedCourse(course);\n        setSelectedContent('course');\n    };\n\n    const toggleDropdown = () => setIsDropdownOpen(!isDropdownOpen);\n\n    const renderContent = () => {\n        console.log(\"this is the user tt\", user.id);\n        // If we want this side bar to appear on the left side of the screen for something like the tutor profile page or the tutor search page based on the searched item then we can probably just update the value given to selectedContent to be that of the tutopr pafge (add another case to the switch statement) or whatever page. W#e'll just need to make it so we update the state or whatever somehow\n        switch (selectedContent) {\n            case 'explore':\n                return <StudentExplorePage user={user} />;\n            case 'notifications':\n                return <StudentNotificationsPage notifications={notifications} />;\n            case 'myCourses':\n                return <StudentMyCoursesPage setSelectedContent={setSelectedContent} setSelectedCourse={setSelectedCourse} inProgressCourses={inProgressCourses} pendingCourses={pendingCourses} declinedCourses={declinedCourses} />;\n            case 'course':\n                return <StudentCoursePage course={selectedCourse} setSelectedContent={setSelectedContent} />;\n            case 'settings':\n                return <StudentSettingsPage user={user} isTutor={isTutor}/>;\n            case 'profile':\n                return <TutorProfilePage />;\n            default:\n                return <div>Welcome</div>;\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            <tutorProfilePage />\n            <Sidebar onSelect={setSelectedContent} toggleDropdown={toggleDropdown} isDropdownOpen={isDropdownOpen} courses={inProgressCourses} onCourseSelect={onCourseSelect} isTutor={isTutor} />\n            <main className=\"dashboardContent\">\n                {renderContent()}\n            </main>\n        </div>\n    );\n}\n\nexport default UserDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}