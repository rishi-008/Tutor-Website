{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import'../styles/LoginPage.css';import{loginAccount}from'../controllers/AccountController';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){const navigate=useNavigate();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');// Mock database of users\nconst users=[{firstName:'John',lastName:'x',email:'student@example.com',password:'password1',birthday:'',major:'Computer Science',language:'English',isTutor:false,isAdmin:false,notifications:true,proofdoc:null,isApproved:true},{firstName:'Mark',lastName:'y',email:'tutor@example.com',password:'password2',birthday:'',major:'Computer Science',language:'English',isTutor:true,isAdmin:false,notifications:true,proofdoc:null,isApproved:true},{firstName:'Tim',lastName:'z',email:'admin@example.com',password:'password3',birthday:'',major:'',language:'English',isTutor:false,notifications:true,isAdmin:true,proofdoc:null,courses:[],isApproved:true}];const handleLogin=async event=>{event.preventDefault();let user=await loginAccount(email,password);if(user){if(user.isAdmin){navigate('/adminPortal');}else{if(user.student){navigate('/userPortal',{state:{user:user,isTutor:false}});}if(user.tutor){console.log(\"Is this going to the tutor portal?\");navigate('/tutorPortal',{state:{user:user,isTutor:true}});}}}else{setError('Invalid email or password');}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login to Tutor Connect\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"login-error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:\"login-input\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",className:\"login-input\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-links\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"link\",children:\"Register for a new account\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"link\",children:\"Forgot Password\"})})]})]})});}export default LoginPage;","map":{"version":3,"names":["React","useState","Link","useNavigate","loginAccount","jsx","_jsx","jsxs","_jsxs","LoginPage","navigate","email","setEmail","password","setPassword","error","setError","users","firstName","lastName","birthday","major","language","isTutor","isAdmin","notifications","proofdoc","isApproved","courses","handleLogin","event","preventDefault","user","student","state","tutor","console","log","className","children","onSubmit","type","placeholder","value","onChange","e","target","required","to"],"sources":["/workspaces/Tutor-Website/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport '../styles/LoginPage.css';\nimport { loginAccount } from '../controllers/AccountController';\n\nfunction LoginPage() {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // Mock database of users\n  const users = [\n    { firstName: 'John', lastName: 'x', email: 'student@example.com', password: 'password1', birthday: '', major: 'Computer Science', language: 'English', isTutor: false, isAdmin: false, notifications: true, proofdoc: null, isApproved: true, },\n    { firstName: 'Mark', lastName: 'y', email: 'tutor@example.com', password: 'password2', birthday: '', major: 'Computer Science', language: 'English', isTutor: true, isAdmin: false, notifications: true, proofdoc: null, isApproved: true, },\n    { firstName: 'Tim', lastName: 'z', email: 'admin@example.com', password: 'password3', birthday: '', major: '', language: 'English', isTutor: false, notifications: true, isAdmin: true, proofdoc: null, courses: [], isApproved: true, },\n  ];\n\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    let user = await loginAccount(email, password);\n    if (user) {\n      if (user.isAdmin) {\n        navigate('/adminPortal');\n      } else {\n        if (user.student) {\n          navigate('/userPortal', { state: { user: user, isTutor: false } });\n        }\n        if (user.tutor) {\n          console.log(\"Is this going to the tutor portal?\");\n          navigate('/tutorPortal', { state: { user: user, isTutor: true } });\n        }\n      }\n    } else {\n      setError('Invalid email or password');\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-box\">\n        <h2>Login to Tutor Connect</h2>\n        {error && <p className=\"login-error\">{error}</p>}\n        <form onSubmit={handleLogin}>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            className=\"login-input\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"login-input\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            required\n          />\n          <button className=\"login-btn\">Sign In</button>\n        </form>\n        <div className=\"login-links\">\n          <p><Link to=\"/register\" className=\"link\">Register for a new account</Link></p>\n          <p><Link to=\"/\" className=\"link\">Forgot Password</Link></p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}